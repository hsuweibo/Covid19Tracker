(this["webpackJsonpcovid19-tracker"]=this["webpackJsonpcovid19-tracker"]||[]).push([[0],{64:function(e,t,a){e.exports=a.p+"static/media/globe.1a59560a.jpg"},69:function(e,t,a){e.exports={ldsRoller:"Spinner_ldsRoller__1PjlX"}},83:function(e,t,a){e.exports=a(95)},88:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=(a(88),a(5)),s=a(97),i=a(158),u=a(20),d=a(21),m=a(14),p=a(22),b=a(146),h=a(147),f=a(148),v=a(4),y=a(13),g=a(32),O="Recovered",C="Deaths",j=a(64),E=a.n(j),w=function(){return fetch("https://disease.sh/v3/covid-19/countries?yesterday=true").then((function(e){return e.json()})).then((function(e){var t,a={},n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,c=o.country;if(!k.includes(c))a[c]=(r={},Object(l.a)(r,"Cases",o.cases),Object(l.a)(r,"New Cases",o.todayCases),Object(l.a)(r,C,o.deaths),Object(l.a)(r,"New Deaths",o.todayDeaths),Object(l.a)(r,O,o.recovered),Object(l.a)(r,"New Recovered",o.todayRecovered),Object(l.a)(r,"flag",o.countryInfo.flag),r)}}catch(s){n.e(s)}finally{n.f()}return a})).then((function(e){return fetch("https://disease.sh/v3/covid-19/all?yesterday=true").then((function(e){return e.json()})).then((function(t){var a,n=(a={},Object(l.a)(a,"Cases",t.cases),Object(l.a)(a,"New Cases",t.todayDeaths),Object(l.a)(a,C,t.deaths),Object(l.a)(a,"New Deaths",t.todayDeaths),Object(l.a)(a,O,t.recovered),Object(l.a)(a,"New Recovered",t.todayRecovered),Object(l.a)(a,"flag",E.a),a);return Object(y.a)(Object(l.a)({},"Worldwide",n),e)}))}))},k=["MS Zaandam","Diamond Princess"],x=a(141),S=a(26),D=a.n(S),T=a(55),N=a(54),R=a(56),A=Object(x.a)((function(e){return{root:{width:"100%",padding:"1em",boxSizing:"border-box",position:"relative",textAlign:"center"},highlight:{position:"absolute",display:"block",width:"80%",top:"1%",left:"50%",transform:"translateX(-50%)",height:"5px",backgroundColor:function(e){var t;return(t={},Object(l.a)(t,"Cases",T.a.A200),Object(l.a)(t,C,N.a.A200),Object(l.a)(t,O,R.a.A200),t)[e.countType]}}}}),{name:"CountBox"}),I=function(e){var t,a=A(e);switch(e.countType){case"Cases":t="New cases";break;case C:t="New deaths";break;case O:t="New recovered";break;default:t="Unknown"}return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.highlight}),r.a.createElement(s.a,{variant:"body1"},t),r.a.createElement(s.a,{variant:"h5"},D()(e.newCount).format("0.[00]a")),r.a.createElement(s.a,{variant:"body1",color:"textSecondary"},D()(e.totalCount).format("0.[00]a")," total"))},M=a(69),H=a.n(M),B=function(e){return r.a.createElement("div",{className:H.a.ldsRoller},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},F=a(159),z=a(160),G=Object(x.a)({option:{fontSize:"1rem"},root:{padding:"6px 2px"}},{name:"Select"});function P(e){var t=G(e);return r.a.createElement(z.a,{options:e.options,classes:{option:t.option,root:t.root},value:e.value,disableClearable:!0,autoHighlight:!0,onChange:e.onSelect,getOptionLabel:function(e){return e},renderOption:function(e){return r.a.createElement("span",null,e)},renderInput:function(t){return r.a.createElement(F.a,Object.assign({},t,{label:e.label,size:"small",variant:"outlined",inputProps:Object(y.a)(Object(y.a)({},t.inputProps),{},{autoComplete:"off",readOnly:e.readOnly})}))}})}var W=Object(x.a)({root:{width:"300px"}},{name:"CountrySelect"});function Y(e){var t=W(e);return r.a.createElement(P,Object.assign({},e,{classes:{root:t.root},options:e.countries,readOnly:!1,label:"Country"}))}var _,L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedCountry:null,data:null,loadComplete:!1},e.countrySelectHandler=function(t,a){e.setState({selectedCountry:a})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;w().then((function(t){e.setState({data:t,loadComplete:!0,selectedCountry:"Worldwide"})}))}},{key:"render",value:function(){var e;if(this.state.loadComplete){var t=r.a.createElement("div",{style:{margin:"8px"}},r.a.createElement(Y,{countries:Object.keys(this.state.data),onSelect:this.countrySelectHandler,value:this.state.selectedCountry,classes:{root:this.props.classes.countrySelect}})),a=this.state.data[this.state.selectedCountry];e=r.a.createElement(r.a.Fragment,null,t,r.a.createElement(b.a,{container:!0},r.a.createElement(b.a,{item:!0,xs:12,sm:4},r.a.createElement(I,{countType:"Cases",newCount:a["New Cases"],totalCount:a.Cases})),r.a.createElement(b.a,{item:!0,xs:12,sm:4},r.a.createElement(I,{countType:C,newCount:a["New Deaths"],totalCount:a[C]})),r.a.createElement(b.a,{item:!0,xs:12,sm:4},r.a.createElement(I,{countType:O,newCount:a["New Recovered"],totalCount:a[O]}))))}else e=r.a.createElement(B,null);return r.a.createElement(h.a,null,r.a.createElement(f.a,null,r.a.createElement(s.a,{variant:"h4",align:"center"},"Cases Overview"),e))}}]),a}(n.Component),q=Object(v.a)((function(e){return{countrySelect:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"})}}),{name:"OverviewContainer"})(L),J=a(162),U=a(73),X=a(155),Z=a(29),$=a(72),K=a.n($),Q=a(52),V=a.n(Q),ee=(_={},Object(l.a)(_,"Cases",{borderColor:T.a.A100,backgroundColor:T.a[200],labelText:"cases"}),Object(l.a)(_,C,{borderColor:N.a.A100,backgroundColor:N.a[200],labelText:"deaths"}),Object(l.a)(_,O,{borderColor:R.a.A100,backgroundColor:R.a[200],labelText:"recoveries"}),_),te={type:"line",data:{},options:{hover:{intersect:!0},tooltips:{mode:"nearest",axis:"x",intersect:!1,displayColors:!1,callbacks:{label:null,title:function(e,t){return V()(t.labels[e[0].index]).format("MMM DD, YYYY")}}},legend:{display:!1},scales:{xAxes:[{display:!0,afterBuildTicks:function(e,t){return t.map((function(e,t){return" ".concat(V()(e).format("MMM DD")," ")}))},ticks:{maxRotation:0,fontSize:11}}],yAxes:[{afterDataLimits:function(e){e.min<0&&(e.min=0)},afterTickToLabelConversion:function(e){for(var t in e.ticks)e.ticks[t]=D()(e.ticks[t]).format("0,0")},ticks:{precision:0,fontSize:11}}]}}},ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this)).canvasRef=r.a.createRef(),n.chart=null,n.propsDataToChartData=function(){return{labels:Object.keys(n.props.data),datasets:[{label:ee[n.props.countType].labelText,backgroundColor:ee[n.props.countType].backgroundColor,borderColor:ee[n.props.countType].borderColor,data:Object.values(n.props.data)}]}};return te.options.tooltips.callbacks.label=function(e,t){return D()(t.datasets[e.datasetIndex].data[e.index]).format("0,0")+" "+ee[n.props.countType].labelText},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){te.data=this.propsDataToChartData(),this.chart=new K.a(this.canvasRef.current.getContext("2d"),te)}},{key:"componentDidUpdate",value:function(){this.chart.data=this.propsDataToChartData(),this.chart.update()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("canvas",{ref:this.canvasRef}))}}]),a}(n.Component),ne=Object(x.a)({root:{width:"150px"}},{name:"CountTypeSelect"});function re(e){var t=ne(e);return r.a.createElement(P,Object.assign({},e,{classes:{root:t.root},options:["Cases",C,O],readOnly:!0,label:"Type"}))}var oe=Object(x.a)({root:{width:"130px"}},{name:"DurationSelect"});function ce(e){var t=oe(e);return r.a.createElement(P,Object.assign({},e,{classes:{root:t.root},options:["1 week","2 weeks","1 month","All"],readOnly:!0,label:"Duration"}))}var le,se=a(74),ie=(le={},Object(l.a)(le,"1 month",30),Object(l.a)(le,"All","all"),Object(l.a)(le,"1 week",7),le),ue=function(e){for(var t={},a=null,n=0,r=Object.entries(e);n<r.length;n++){var o=Object(Z.a)(r[n],2),c=o[0],l=o[1];null!==a&&(t[me(c)]=l-a),a=l}return t},de=function(e,t){for(var a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];e[r]+=t[r]}},me=function(e){var t=Object(se.a)(/^([0-9]?[0-9])\/([0-9]?[0-9])\/([0-9][0-9])$/,{month:1,day:2,year:3}),a=e.match(t),n="20".concat(a.groups.year),r=1===a.groups.month.length?"0".concat(a.groups.month):a.groups.month,o=1===a.groups.day.length?"0".concat(a.groups.day):a.groups.day;return"".concat(n,"-").concat(r,"-").concat(o)},pe=["MS Zaandam","Diamond Princess"],be=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={selectedCountry:null,selectedCountType:null,selectedDuration:null,data:null,selectedData:null,loadComplete:!1},e.countTypeSelectHandler=function(t,a){e.setState({selectedCountType:a}),e.updateSelectedData()},e.countrySelectHandler=function(t,a){e.setState({selectedCountry:a}),e.updateSelectedData()},e.durationSelectHandler=function(t,a){e.setState({selectedDuration:a}),e.updateSelectedData()},e.updateSelectedData=function(){e.setState((function(e){var t,a=e.selectedDuration,n=e.data,r=e.selectedCountry,o=e.selectedCountType;switch(a){case"1 week":t=Object.entries(n[r][o]).slice(-7);break;case"2 weeks":t=Object.entries(n[r][o]).slice(-14);break;case"1 month":t=Object.entries(n[r][o]).slice(-30);break;case"All":t=Object.entries(n[r][o]).slice();break;default:t=[]}var c,l={},s=Object(g.a)(t);try{for(s.s();!(c=s.n()).done;){var i=Object(Z.a)(c.value,2),u=i[0],d=i[1];l[u]=d}}catch(m){s.e(m)}finally{s.f()}return Object(y.a)(Object(y.a)({},e),{},{selectedData:l})}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e="All",fetch("https://disease.sh/v3/covid-19/historical?lastdays=".concat(ie[e])).then((function(e){return e.json()})).then((function(e){var t,a={},n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,c=o.country;pe.includes(c)||(a[c]?(de(a[c].Cases,ue(o.timeline.cases)),de(a[c][C],ue(o.timeline.deaths)),de(a[c][O],ue(o.timeline.recovered))):a[c]=(r={},Object(l.a)(r,"Cases",ue(o.timeline.cases)),Object(l.a)(r,C,ue(o.timeline.deaths)),Object(l.a)(r,O,ue(o.timeline.recovered)),r))}}catch(s){n.e(s)}finally{n.f()}return a})).then((function(t){return fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=".concat(ie[e])).then((function(e){return e.json()})).then((function(e){var a,n=(a={},Object(l.a)(a,"Cases",ue(e.cases)),Object(l.a)(a,C,ue(e.deaths)),Object(l.a)(a,O,ue(e.recovered)),a);return Object(y.a)(Object(l.a)({},"Worldwide",n),t)}))}))).then((function(e){t.setState({data:e,loadComplete:!0,selectedCountry:"Worldwide",selectedCountType:"Cases",selectedDuration:"1 month"}),t.updateSelectedData()}))}},{key:"render",value:function(){var e;return e=this.state.selectedData?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.props.classes.selectBar},r.a.createElement(Y,{countries:Object.keys(this.state.data),onSelect:this.countrySelectHandler,value:this.state.selectedCountry,classes:{root:this.props.classes.countrySelect}}),r.a.createElement(re,{value:this.state.selectedCountType,onSelect:this.countTypeSelectHandler,classes:{root:this.props.classes.countTypeSelect}}),r.a.createElement(ce,{onSelect:this.durationSelectHandler,value:this.state.selectedDuration,classes:{root:this.props.classes.durationSelect}})),r.a.createElement(ae,{countType:this.state.selectedCountType,data:this.state.selectedData})):r.a.createElement(B,null),r.a.createElement(h.a,null,r.a.createElement(f.a,null,r.a.createElement(s.a,{variant:"h4",align:"center"},"Daily Changes"),e))}}]),a}(n.Component),he=Object(v.a)((function(e){return{selectBar:{display:"flex",flexWrap:"wrap",margin:"8px"},countTypeSelect:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"}),countrySelect:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"}),durationSelect:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"})}}),{name:"ChartContainer"})(be),fe=a(75),ve=a(153),ye=a(154),ge=a(151),Oe=a(152),Ce=a(149),je=a(150),Ee=a(163),we=a(77);function ke(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function xe(e){var t,a=e.classes,n=e.order,o=e.orderBy,c=e.onRequestSort,s=e.selectedColumns,i=["country"].concat(Object(fe.a)(s)),u=(t={},Object(l.a)(t,"Cases","Cases"),Object(l.a)(t,C,"Deaths"),Object(l.a)(t,O,"Recovered"),Object(l.a)(t,"New Cases","New Cases"),Object(l.a)(t,"New Deaths","New Deaths"),Object(l.a)(t,"New Recovered","New Recovered"),Object(l.a)(t,"country","Country"),t),d=i.map((function(e){return{column:e,label:u[e],numeric:"country"!==e,disablePadding:!1}}));return r.a.createElement(Ce.a,null,r.a.createElement(je.a,null,d.map((function(e){return r.a.createElement(ge.a,{key:e.column,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:o===e.column&&n},r.a.createElement(Ee.a,{active:o===e.column,direction:o===e.column?n:"asc",onClick:(t=e.column,function(e){c(e,t)})},e.label,o===e.column?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var Se=Object(x.a)((function(e){return{root:{width:"100%"},container:{height:"100%"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}),{name:"CountryCountTable"});function De(e){var t=e.rows,a=e.selectedColumns,n=e.defaultOrderBy,o=Se(e),c=r.a.useState("desc"),l=Object(Z.a)(c,2),s=l[0],i=l[1],u=r.a.useState(n),d=Object(Z.a)(u,2),m=d[0],p=d[1];return r.a.createElement(we.a,{className:o.root},r.a.createElement(Oe.a,{className:o.container},r.a.createElement(ve.a,{stickyHeader:!0,className:o.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"country count table"},r.a.createElement(xe,{classes:o,order:s,orderBy:m,onRequestSort:function(e,t){i(m===t&&"asc"===s?"desc":"asc"),p(t)},selectedColumns:a}),r.a.createElement(ye.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return ke(e,a,t)}:function(e,a){return-ke(e,a,t)}}(s,m)).map((function(e){var t=r.a.createElement(ge.a,{component:"th",scope:"row",padding:"default"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("img",{src:e.flag,alt:"flag",width:"20px",style:{verticalAlign:"middle",marginRight:"5px"}}),e.country)),n=a.map((function(t){return r.a.createElement(ge.a,{align:"right",key:t},D()(e[t]).format("0,0"))}));return r.a.createElement(je.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.country},t,n)}))))))}var Te=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:null,loadComplete:!1},e.convertDataToRows=function(){return Object.keys(e.state.data).map((function(t){return Object(y.a)({country:t},e.state.data[t])}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;w().then((function(t){return e.setState({data:t,loadComplete:!0})}))}},{key:"render",value:function(){var e,t=this.props.classes;return e=this.state.loadComplete?r.a.createElement(De,{selectedColumns:[["Cases"],[C],[O]],defaultOrderBy:"Cases",rows:this.convertDataToRows(),classes:{root:t.tableRoot}}):r.a.createElement(B,null),r.a.createElement(h.a,{className:t.root},r.a.createElement(f.a,{className:t.cardContent},r.a.createElement("div",{className:t.titleFlexItem},r.a.createElement(s.a,{variant:"h4",align:"center"},"Cases by Country")),r.a.createElement("div",{className:t.tableFlexItem},e)))}}]),a}(n.Component),Ne=Object(v.a)((function(e){return{root:{position:"absolute",height:"100%",width:"100%"},cardContent:{display:"flex",flexDirection:"column",alignItems:"stretch",boxSizing:"border-box",height:"100%"},titleFlexItem:{flex:"0 0 auto",flexBasis:"auto"},tableFlexItem:{flex:"1 1 auto",overflowY:"auto",paddingTop:e.spacing(2)},tableRoot:{height:"100%"}}}),{name:"TableContainer"})(Te),Re=a(156),Ae=a(157),Ie=Object(J.a)(Object(U.a)()),Me=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",minHeight:"100vh"},gridContainer:{display:"grid",alignContent:"center",gridTemplateColumns:"repeat(12, 1fr)",gridGap:"13px",padding:"0.6rem",width:"100%",maxWidth:e.breakpoints.values.lg,margin:"0 auto"},overviewGridItem:Object(l.a)({gridColumn:"1/8",gridRow:"1/2"},e.breakpoints.down("sm"),{gridColumn:"1/13"}),chartGridItem:Object(l.a)({gridColumn:"1/8",gridRow:"2/3"},e.breakpoints.down("sm"),{gridColumn:"1/13"}),listGridItem:Object(l.a)({gridColumn:"8 /13",gridRow:"1/3",position:"relative"},e.breakpoints.down("sm"),{gridColumn:"1/13",gridRow:"3/4",height:"500px"}),footer:Object(l.a)({gridColumn:"1/13",gridRow:"3/4"},e.breakpoints.down("sm"),{gridRow:"4/5"}),"@global":{".MuiTableCell-sizeSmall":{padding:"6px 10px 6px 6px"}}}}));var He=function(){var e=Me();return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{theme:Ie},r.a.createElement("div",{className:e.root},r.a.createElement(Re.a,{position:"static",style:{backgroundColor:"#2b1b04"}},r.a.createElement(Ae.a,null,r.a.createElement(s.a,{variant:"h3",style:{flexGrow:1,textAlign:"center",letterSpacing:"3px",color:"white",margin:".4em"}},"Covid-",r.a.createElement("span",{style:{fontFamily:"Federo, sans-serif"}},"19")," ","Tracker"))),r.a.createElement("div",{style:{flex:"1 0 auto",display:"flex"}},r.a.createElement("div",{className:e.gridContainer},r.a.createElement("div",{className:e.appBar}),r.a.createElement("div",{className:e.overviewGridItem},r.a.createElement(q,null)),r.a.createElement("div",{className:e.chartGridItem},r.a.createElement(he,null)),r.a.createElement("div",{className:e.listGridItem},r.a.createElement(Ne,null)),r.a.createElement("div",{className:e.footer},r.a.createElement(s.a,{color:"textSecondary",align:"center",variant:"body2"},"Covid-19 Tracker is powered by React"," ",r.a.createElement("i",{className:"fab fa-react"})," and the open data API from"," ",r.a.createElement(i.a,{href:"https://disease.sh/",target:"_blank"},"disease.sh")," ")))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.a6660ab1.chunk.js.map